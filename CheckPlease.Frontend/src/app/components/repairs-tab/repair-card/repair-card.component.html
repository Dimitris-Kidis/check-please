<div class="user-card">
  <div class="header">
    <div class="user-info">
      <span class="name"
        ><strong>{{ 'CLIENTS.CLIENT' | translate }}:</strong> {{ repair.client?.fullName | defaultValue }} /
        <strong>{{ 'CLIENTS.CLIENT.FIELD.PHONE_NUMBER' | translate }}: </strong>
        {{ repair.client?.phoneNumber | defaultValue }} / <strong>{{ 'CARS.CAR.FIELD.CAR_SIGN' | translate }}:</strong>
        {{ repair.car?.carSign | defaultValue }}
      </span>
      <span class="name">
        <strong>{{ 'REPAIRS.REPAIR.REPAIR_MILEAGE' | translate }}: </strong> {{ repair.mileage | defaultValue }}
        {{ 'CARS.CAR.KM' | translate }} /
        <strong
          >{{ 'CARS.CAR.FIELD.CURRENT_MILEAGE' | translate }} ({{ repair.repairDate | date : dateDefaultFormat }}):
        </strong>
        {{ repair.car?.mileage | defaultValue }} {{ 'CARS.CAR.KM' | translate }}</span
      >
      <span class="name"
        ><strong>{{ 'REPAIRS.REPAIR.IS_SENT_TO_BOT' | translate }}:</strong>
        {{ (repair.isSentToBot ? 'COMMON.YES' : 'COMMON.NO') | translate }}
      </span>
    </div>
    <div class="icons">
      <button
        class="icon-button edit"
        (click)="editRepair(repair.id!)"
      >
        <mat-icon class="icon">edit</mat-icon>
      </button>
      <button
        class="icon-button delete"
        (click)="deleteRepair(repair.id!)"
      >
        <mat-icon class="icon">delete</mat-icon>
      </button>
    </div>
  </div>

  <div class="notes">
    <label for="notes">{{ 'COMMON.FIELD.ADDITIONAL_NOTES' | translate }}</label>
    <div class="notes-box">
      {{ repair.additionalNotes | defaultValue }}
    </div>
  </div>

  <check-please-collapsable-section
    [expanded]="false"
    title="{{ repair.totalRepairPrice }}"
  >
    <check-please-repair-table
      [(details)]="repair.details!"
      [isEditMode]="false"
    ></check-please-repair-table>
  </check-please-collapsable-section>
  <small style="text-align: right"
    >{{ 'CLIENTS.CLIENT.AUDIT.CREATED' | translate }}:
    {{ repair.repairDate | date : dateDefaultFormat + ' (EEEE)' | dayOfWeek }}</small
  >
</div>
